<Window x:Class="NoteBook.EditUnitsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NoteBook"
        mc:Ignorable="d"
        Title="Units &amp; Modules" MinWidth="900" MinHeight="600"
        Background="{StaticResource BackgroundBrush}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- En-tête -->
        <Border Grid.Row="0" Background="White" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1" Padding="20">
            <TextBlock Text="Manage Units and Modules" FontSize="24" FontWeight="Bold" Foreground="{StaticResource TextBrush}" />
        </Border>

        <!-- Contenu principal -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- Section Units - Gauche -->
            <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,0,10,10">
                <TextBlock Text="Units" FontSize="16" FontWeight="Bold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,10" />
            </StackPanel>

            <Border Grid.Column="0" Grid.Row="1" Background="White" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="8" Margin="0,0,10,10">
                <ListBox x:Name="units" MouseDoubleClick="EditUnit" SelectionChanged="SelectUnit" Background="Transparent" BorderThickness="0">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Padding" Value="12" />
                            <Setter Property="Margin" Value="2" />
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Background" Value="Transparent" />
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="{StaticResource AccentLight}" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FFEAF4FB" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>
            </Border>

            <StackPanel Grid.Column="0" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Style="{StaticResource PrimaryButton}" Content="Add Unit" MinWidth="120" MinHeight="42" Click="AddUnit" />
                <Button Style="{StaticResource DangerButton}" Content="Remove Unit" MinWidth="120" MinHeight="42" Click="RemoveUnit" />
            </StackPanel>

            <!-- Section Modules - Droite -->
            <StackPanel Grid.Column="1" Grid.Row="0" Margin="10,0,0,10">
                <TextBlock Text="Modules" FontSize="16" FontWeight="Bold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,10" />
            </StackPanel>

            <Border Grid.Column="1" Grid.Row="1" Background="White" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="8" Margin="10,0,0,10">
                <ListBox x:Name="modules" MouseDoubleClick="EditModule" Background="Transparent" BorderThickness="0">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Padding" Value="12" />
                            <Setter Property="Margin" Value="2" />
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Background" Value="Transparent" />
                            <Style.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="{StaticResource AccentLight}" />
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FFEAF4FB" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>
            </Border>

            <StackPanel Grid.Column="1" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Style="{StaticResource PrimaryButton}" Content="Add Module" MinWidth="120" MinHeight="42" Click="CreateModule" />
                <Button Style="{StaticResource DangerButton}" Content="Remove Module" MinWidth="120" MinHeight="42" Click="RemoveModule" />
            </StackPanel>
        </Grid>

        <!-- Pied de page avec bouton Fermer -->
        <Border Grid.Row="2" Background="White" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0" Padding="20">
            <Button Style="{StaticResource SecondaryButton}" Content="Close" HorizontalAlignment="Right" MinWidth="120" MinHeight="42" Click="CloseWindow" />
        </Border>
    </Grid>
</Window>
